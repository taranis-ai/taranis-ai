{% extends 'base.html' %}
{% block content %}
<div class="text-3xl font-bold mb-4">Users</div>
<div class="bg-white rounded-sm p-4 shadow-lg" x-data="{ 
    selectedusers: [], 
    toggleSelect() {
        let checkboxes = document.getElementsByName('cb[]');
        let checkboxes_array = Array.from(checkboxes);
        let allChecked = checkboxes_array.every(checkbox => checkbox.checked);
        this.selectedusers = [];
        for (let checkbox of checkboxes) {
            checkbox.checked = !allChecked;
            if (checkbox.checked) {
                this.selectedusers.push(checkbox.value);
            }
        }
    }
}">
    {% include 'partials/import_export.html' %}
    {% include 'user/users_table.html' %}
      <!-- Debugging output -->
    <span x-text="selectedusers"></span>
</div>

<div hx-get={{ url_for('admin.edit_user', user_id=0) }} hx-swap="innerHTML" hx-target="#user-form-container" class="btn btn-primary mt-2">New User</div>

<div id="user-form-container"></div>

{% endblock %}