{% macro status_class(status) %}
{% if status == "FAILURE" %}
error
{% elif status == "SUCCESS" %}
success
{% elif status == "PENDING" %}
neutral
{% else %}
info
{% endif %}
{% endmacro %}

{% macro worker_status(status) %}
{% set result_class=status_class(status.status) %}
<div class="alert alert-{{ result_class }} flex flex-col gap-1 items-start">
  <div class="flex flex-row items-center">
    <p class="text-base-content/60 text-[0.7rem]">Last Run <span class="mx-2 badge badge-xs">{{ status.status }}</span> at <b>'{{ status.last_run | format_datetime }}'</b></p>
  </div>
  <div class="flex flex-row items-center">
    <p class="text-base-content/60 text-[0.7rem]">Last successful run: <b>{{ status.last_success | format_datetime }}</b></p>
  </div>
  <div class="divider my-0"></div>
  <div class="flex flex-row">
    <span class="text-left">{{ status.result }}</span>
  </div>
</div>
{% endmacro %}

{% macro worker_badge(status) %}
{% set result_class=status_class(status.status) %}
<div class="tooltip" data-tip="{{ status.result }}">
  <div title="{{ status.status }}" class="badge badge-{{ result_class }}">{{ status.status }}</div>
</div>
{% endmacro %}
