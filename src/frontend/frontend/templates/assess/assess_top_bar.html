
<div class="sticky top-16 z-10 mb-2">
  <div class="flex p-2 flex-row justify-between min-h-[3rem] bg-base-100 border border-base-300 shadow-lg rounded-box">
    <div class="flex flex-col gap-2 flex-row items-center text-sm">
      <div class="flex items-center gap-3" x-show="selectedItems.length" x-transition.opacity x-cloak>
        <span class="badge badge-primary badge-lg" x-text="selectedItems.length"></span>
        <span class="font-medium">stories selected</span>
        <button type="button" class="btn btn-xs btn-ghost" @click="clearSelection()">clear</button>
      </div>
      <div class="flex flex-wrap items-center gap-3" x-show="!selectedItems.length" x-transition.opacity x-cloak>
        <div class="flex items-center gap-2">
          <span class="font-medium text-base-content">Total stories</span>
          <span class="badge badge-ghost badge-lg">{{ stories.total_count }}</span>
        </div>
      </div>
    </div>
    <div class="flex flex-wrap items-center gap-2">
      <div class="flex flex-wrap items-center gap-2" x-show="selectedItems.length" x-transition.opacity hx-target="#assess">
        <button type="submit"
                class="btn btn-sm btn-primary"
                hx-trigger="keyup[shiftKey && code == 'Space'] from:body"
                hx-post="{{ url_for('assess.bulk_action') }}"
                :hx-vals='action_vals("read", true)'>
          {{ heroicon_mini("eye") }}
          Mark as read
        </button>

        <button type="submit"
                class="btn btn-sm btn-outline"
                hx-trigger="keyup[shiftKey && key == 'I'] from:body"
                hx-post="{{ url_for('assess.bulk_action') }}"
                :hx-vals='action_vals("important", true)'>
          {{ heroicon_mini("star") }}
          Mark as important
        </button>
      </div>
      <div class="flex flex-wrap items-center gap-2" x-show="!selectedItems.length" x-cloak>
        {% if story_ids %}
          <button type="button" class="btn btn-sm btn-outline" @keyup.shift.a.window="selectAll()" @click="selectAll()">Select all</button>
        {% endif %}
      </div>
    </div>
  </div>
</div>
